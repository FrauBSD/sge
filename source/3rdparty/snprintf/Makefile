DEPEND = ../3rdparty/sge_depend/$(COMPILE_ARCH)/sge_depend -l -S -Y $(DEPEND_FLAGS)

SNPRINTF_DIR = ../3rdparty/snprintf

SNPRINTF_LIB = libsnprintf.a

SNPRINTF_SRC = snprintf.c

SNPRINTF_OBJS = $(SNPRINTF_SRC:.c=.o)

###############################################################################
# global rules: all, clean, depend, messages
###############################################################################
all: $(SNPRINTF_LIB)

clean:
	$(RM) $(SNPRINTF_OBJS) libsnprintf.a

depend:
	$(DEPEND) -f$(SNPRINTF_DIR)/snprintf_dependencies $(SNPRINTF_DIR)/*.c

###############################################################################
# rules to build library
###############################################################################
libsnprintf.a:       $(SNPRINTF_OBJS)
	$(AR) $(ARFLAGS) $(SNPRINTF_LIB) $(SNPRINTF_OBJS)
	$(RANLIB)  $(SNPRINTF_LIB) 

###############################################################################
# include dependencies for object files generated by sge_depend
###############################################################################
include $(SNPRINTF_DIR)/snprintf_dependencies

###############################################################################
# rules to build object codes
###############################################################################

snprintf.o:	$(SNPRINTF_DIR)/snprintf.c
	$(CC) $(CFLAGS) $(SHARED_CFLAGS) -c $(SNPRINTF_DIR)/snprintf.c

